import { useParams } from 'react-router';
import styles from './ArticlePage.module.scss';
import { PageLayout } from '@/widgets/page-layout';

type ArticleType = 'payment-rules' | 'cancellation-rules' | 'contract' | 'safety';

interface ArticleContent {
  title: string;
  content: string;
}

const articleData: Record<ArticleType, ArticleContent> = {
  'payment-rules': {
    title: 'Правила оплаты',
    content: `
      <h2>Способы оплаты</h2>
      <p>Мы принимаем следующие способы оплаты:</p>
      <ul>
        <li>Банковские карты (Visa, MasterCard, Мир)</li>
        <li>Сертификаты ProSurf</li>
        <li>Абонементы и сезонные билеты</li>
        <li>Бонусные баллы</li>
      </ul>

      <h2>Комбинированная оплата</h2>
      <p>Вы можете комбинировать несколько способов оплаты в одной транзакции:</p>
      <ul>
        <li>Использовать бонусы + карта</li>
        <li>Использовать сертификат + карта</li>
        <li>Списать занятия с абонемента</li>
      </ul>

      <h2>Безопасность платежей</h2>
      <p>Все платежи обрабатываются через защищенные платежные шлюзы с использованием современных протоколов шифрования. Мы не храним данные ваших банковских карт.</p>

      <h2>Подтверждение оплаты</h2>
      <p>После успешной оплаты вы получите подтверждение в приложении и на указанный email. Бронирование будет автоматически подтверждено.</p>
    `
  },
  'cancellation-rules': {
    title: 'Правила отмены и возврата',
    content: `
      <h2>Отмена бронирования</h2>
      <p>Вы можете отменить бронирование через приложение в разделе "Мои записи".</p>

      <h2>Сроки отмены</h2>
      <ul>
        <li><strong>За 24 часа и более до начала:</strong> Полный возврат средств или возврат занятия на абонемент</li>
        <li><strong>Менее чем за 24 часа:</strong> Возврат не производится, занятие считается использованным</li>
        <li><strong>В случае форс-мажора:</strong> Решается индивидуально с администрацией</li>
      </ul>

      <h2>Возврат денежных средств</h2>
      <p>Возврат средств осуществляется:</p>
      <ul>
        <li>На ту же карту, с которой производилась оплата</li>
        <li>В течение 5-10 рабочих дней</li>
        <li>В полном объеме при соблюдении условий отмены</li>
      </ul>

      <h2>Возврат абонементов</h2>
      <p>При отмене бронирования, оплаченного абонементом:</p>
      <ul>
        <li>Занятие возвращается на ваш абонемент</li>
        <li>Срок действия абонемента не продлевается</li>
        <li>Возврат доступен только при соблюдении сроков отмены</li>
      </ul>

      <h2>Особые случаи</h2>
      <p>В случае отмены занятия со стороны ProSurf:</p>
      <ul>
        <li>Полный возврат средств в любое время</li>
        <li>Или перенос на другое удобное время</li>
        <li>Уведомление не менее чем за 12 часов</li>
      </ul>
    `
  },
  'contract': {
    title: 'Договор оферты',
    content: `
      <h2>Договор публичной оферты</h2>
      <p>Настоящий документ является официальным предложением (публичной офертой) ProSurf заключить договор на оказание услуг.</p>

      <h2>1. Общие положения</h2>
      <p>1.1. Исполнитель оказывает Заказчику услуги по предоставлению доступа к занятиям по серфингу и другим водным видам спорта.</p>
      <p>1.2. Акцептом настоящей оферты является осуществление Заказчиком платежа.</p>
      <p>1.3. Договор считается заключенным с момента получения оплаты.</p>

      <h2>2. Предмет договора</h2>
      <p>2.1. Исполнитель обязуется оказать услуги по организации и проведению тренировок по серфингу.</p>
      <p>2.2. Услуги оказываются в месте, дату и время, указанные при бронировании.</p>
      <p>2.3. Длительность и содержание занятий определяются выбранной программой.</p>

      <h2>3. Стоимость и порядок оплаты</h2>
      <p>3.1. Стоимость услуг указана в приложении и на сайте.</p>
      <p>3.2. Оплата производится в полном объеме до начала занятия.</p>
      <p>3.3. Цены могут быть изменены Исполнителем в одностороннем порядке.</p>

      <h2>4. Права и обязанности сторон</h2>
      <p><strong>4.1. Исполнитель обязуется:</strong></p>
      <ul>
        <li>Предоставить качественные услуги в соответствии с программой</li>
        <li>Обеспечить безопасность проведения занятий</li>
        <li>Предоставить необходимое оборудование</li>
      </ul>

      <p><strong>4.2. Заказчик обязуется:</strong></p>
      <ul>
        <li>Оплатить услуги в установленном порядке</li>
        <li>Соблюдать правила техники безопасности</li>
        <li>Своевременно уведомить об отмене или переносе</li>
      </ul>

      <h2>5. Ответственность сторон</h2>
      <p>5.1. За неисполнение обязательств стороны несут ответственность в соответствии с законодательством РФ.</p>
      <p>5.2. Исполнитель не несет ответственности за травмы, полученные вследствие несоблюдения техники безопасности.</p>

      <h2>6. Прочие условия</h2>
      <p>6.1. Договор действует до полного исполнения обязательств.</p>
      <p>6.2. Все споры разрешаются путем переговоров.</p>
      <p>6.3. Настоящая оферта вступает в силу с момента размещения в приложении.</p>
    `
  },
  'safety': {
    title: 'Техника безопасности',
    content: `
      <h2>Общие правила безопасности</h2>
      <p>Соблюдение правил техники безопасности обязательно для всех участников занятий по серфингу.</p>

      <h2>Перед занятием</h2>
      <ul>
        <li><strong>Медицинские противопоказания:</strong> Сообщите инструктору о любых проблемах со здоровьем</li>
        <li><strong>Физическое состояние:</strong> Не занимайтесь в состоянии алкогольного или наркотического опьянения</li>
        <li><strong>Питание:</strong> Не занимайтесь на полный желудок (последний прием пищи за 1-2 часа)</li>
        <li><strong>Экипировка:</strong> Используйте только предоставленное или одобренное оборудование</li>
      </ul>

      <h2>Во время занятия</h2>
      <ul>
        <li><strong>Следуйте указаниям инструктора</strong> - это главное правило безопасности</li>
        <li><strong>Не отплывайте далеко</strong> от зоны тренировки без разрешения</li>
        <li><strong>Контролируйте доску</strong> - не отпускайте её, чтобы не травмировать других</li>
        <li><strong>Уступайте дорогу</strong> тем, кто уже поймал волну</li>
        <li><strong>Падайте правильно</strong> - ногами вперед, защищая голову руками</li>
        <li><strong>Сообщайте о проблемах</strong> - усталость, плохое самочувствие, повреждения оборудования</li>
      </ul>

      <h2>Правила поведения на воде</h2>
      <ul>
        <li>Не мешайте другим серферам</li>
        <li>Соблюдайте очередность при заходе на волну</li>
        <li>Не бросайте доску - она может травмировать вас или других</li>
        <li>При столкновении с другим серфером немедленно извинитесь и проверьте, все ли в порядке</li>
      </ul>

      <h2>Погодные условия</h2>
      <ul>
        <li><strong>Гроза:</strong> Немедленно покиньте воду при первых признаках грозы</li>
        <li><strong>Сильный ветер:</strong> Занятия могут быть отменены при неблагоприятных условиях</li>
        <li><strong>Течения:</strong> Не боритесь с течением - плывите параллельно берегу</li>
      </ul>

      <h2>Аварийные ситуации</h2>
      <p><strong>Если вы попали в опасную ситуацию:</strong></p>
      <ul>
        <li>Сохраняйте спокойствие</li>
        <li>Поднимите руку вверх для привлечения внимания</li>
        <li>Не паникуйте - доска помогает держаться на воде</li>
        <li>Следуйте инструкциям спасателей</li>
      </ul>

      <h2>Медицинская помощь</h2>
      <p>На территории всегда есть аптечка первой помощи. При любых травмах немедленно сообщите инструктору или персоналу.</p>

      <h2>Экологическая ответственность</h2>
      <ul>
        <li>Не оставляйте мусор на пляже или в воде</li>
        <li>Уважайте морскую жизнь - не трогайте диких животных</li>
        <li>Используйте безопасные для природы солнцезащитные средства</li>
      </ul>

      <p><strong>Помните:</strong> Ваша безопасность - это ваша ответственность. Соблюдайте правила и наслаждайтесь серфингом!</p>
    `
  }
};

export const ArticlePage = () => {
  const { articleType } = useParams<{ articleType: string }>();

  const isValidArticleType = (type: string | undefined): type is ArticleType => {
    return type !== undefined && type in articleData;
  };

  if (!isValidArticleType(articleType)) {
    return (
      <PageLayout title="Статья не найдена">
        <p className={styles.content}>К сожалению, запрашиваемая статья не найдена.</p>
      </PageLayout>
    );
  }

  const article = articleData[articleType];

  return (
    <PageLayout title={article.title}>
      <div
        className={styles.content}
        dangerouslySetInnerHTML={{ __html: article.content }}
      />
    </PageLayout>
  );
}